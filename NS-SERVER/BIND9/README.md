---
# BIND9 DNS-—Å–µ—Ä–≤–µ—Ä –¥–ª—è HappyLink
#### –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–Ω–∏–º–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏—Ç–∞—Ç–∏–≤–Ω—ã–π DNS-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –¥–æ–º–µ–Ω–∞ **`happylink.net.ua`** –∏ —Ä–µ–≤–µ—Ä—Å-–∑–æ–Ω –¥–ª—è –¥–≤—É—Ö –ø–æ–¥—Å–µ—Ç–µ–π /24
##### 146.120.101.0/24 193.176.2.0/24
---

```
bind9/
 ‚îú‚îÄ‚îÄ docker-compose.yml      # –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ BIND9
 ‚îú‚îÄ‚îÄ named.conf              # –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ BIND9
 ‚îú‚îÄ‚îÄ zones/                  # DNS-–∑–æ–Ω—ã
 ‚îÇ    ‚îú‚îÄ‚îÄ db.happylink.com
 ‚îÇ    ‚îú‚îÄ‚îÄ db.101.120.146.in-addr.arpa
 ‚îÇ    ‚îú‚îÄ‚îÄ db.2.176.193.in-addr.arpa
 ‚îî‚îÄ‚îÄ scripts/
      ‚îî‚îÄ‚îÄ GEN_PTR.py         # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä PTR-–∑–∞–ø–∏—Å–µ–π

```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   git clone https://github.com/<yourname>/happylink-dns.git
   cd happylink-dns/bind9
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

   ```bash
   docker-compose up -d
   ```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:

   ```bash
   dig @127.0.0.1 ns1.happylink.net.ua
   dig @127.0.0.1 -x 145.100.222.10
   ```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥: `named.conf`

* –û—Ç–∫–ª—é—á–µ–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏—è (—Å–µ—Ä–≤–µ—Ä **—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏—Ç–∞—Ç–∏–≤–Ω—ã–π**).
* –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç—Ä–∏ –∑–æ–Ω—ã:

  * `happylink.net.ua`
  * `101.120.146.in-addr.arpa`
  * `2.176.193.in-addr.arpa`

### –ü—Ä—è–º–∞—è –∑–æ–Ω–∞: `db.happylink.com`

–°–æ–¥–µ—Ä–∂–∏—Ç:

* NS-–∑–∞–ø–∏—Å–∏ (`ns`, `ns1`)
* A-–∑–∞–ø–∏—Å–∏ –¥–ª—è `www`, `mail`, `api`
* MX-–∑–∞–ø–∏—Å—å –¥–ª—è –ø–æ—á—Ç—ã

### –†–µ–≤–µ—Ä—Å-–∑–æ–Ω—ã

* `db.101.120.146.in-addr.arpa` ‚Üí PTR –¥–ª—è `ns`, `www`, `mail`
* `db.2.176.193.in-addr.arpa` ‚Üí PTR –¥–ª—è `ns1`, `api`

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PTR-–∑–æ–Ω

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –µ—Å—Ç—å Python-—Å–∫—Ä–∏–ø—Ç `scripts/gen_ptr.py`.

–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

```bash
cd bind9/scripts

# –î–ª—è —Å–µ—Ç–∏ 146.120.101.0/24
./gen_ptr.py 146.120.101.0 happylink.net.ua > ../zones/db.101.120.146.in-addr.arpa

# –î–ª—è —Å–µ—Ç–∏ 148.100.222.0/24
./gen_ptr.py 148.100.222.0 happylink.net.ua > ../zones/db.2.176.193.in-addr.arpa
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—ë—Ç PTR-–∑–∞–ø–∏—Å–∏ `hostX.happylink.com` –¥–ª—è –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤ –æ—Ç `.1` –¥–æ `.254`.
–î–ª—è "–æ—Å–æ–±—ã—Ö" IP (–Ω–∞–ø—Ä–∏–º–µ—Ä `ns1`, `www`, `mail`, `api`) –∏–º–µ–Ω–∞ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –≤ —Å–∫—Ä–∏–ø—Ç–µ.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS

```bash
# –ü—Ä—è–º–∞—è –∑–∞–ø–∏—Å—å
dig @127.0.0.1 www.happylink.net.ua

# PTR-–∑–∞–ø–∏—Å—å
dig @127.0.0.1 -x 146.120.101.2
```
